<?php
$products = array();

/* 
* Homepage Products Starts Here
*/

$product1 = array();
$product1['id'] = 1;
$product1['title'] = "Fantasy Van Velocity Ear Pods";
$product1['price'] = "$49.32";
$product1['sale_price'] = "$37.56";
$product1['meta'] = array(
    "style" => "Flower",
    "material" => "Plastic",
    "color" => "White Green Pink Purple",
    "whole_length" => "38cm / 15.3in",
    "package" => "1 pcs",
    "festivals" => "Christmas day/Valentine's Day/New Year/ Birthday/ Gifts"
);

$product1['featured_image'] = "/assets/images/products/fvb1_1024x1024@2x.jpg";
$product1['images'] = array(
    "/assets/images/products/fvb2_110x110@2x.jpg",
    "/assets/images/products/fvb3_110x110@2x.jpg",
    "/assets/images/products/fvw1_110x110@2x.jpg",
    "/assets/images/products/fvb1_1024x1024@2x.jpg"
);


$product2 = array();
$product2['id'] = 2;
$product2['title'] = "Smart Puppy Robot";
$product2['price'] = "$9.78";
$product2['sale_price'] = "$10.50";
$product2['meta'] = array(
    "function" => "Stiring",
    "feature" => "Eco-Friendly",
    "eggbeater_laying_method" => "Hand",
    "type" => "Egg Tools",
    "material" => "Stainless steel",
    "uses" => "Kitchen Mixer"
);

$product2['featured_image'] = "/assets/images/products/product-image-1318387392_850x850_b3ffcbdb-dca6-42e9-80b6-d9d9c186a6c1_1024x1024@2x.jpg";
$product2['images'] = array(
    "/assets/images/products/product-image-1318387398_640x640_00cdc9f8-6208-44b5-983e-813d05f5d80b_110x110@2x"
);


$product3 = array();
$product3['id'] = 3;
$product3['title'] = "Automatic Portable Hair Curler";
$product3['price'] = "$18.73";
$product3['sale_price'] = "$2.91";
$product3['meta'] = array(
    "style" => "Modern",
    "theme" => "Pattern",
    "pattern" => "3D Sticker",
    "specification" => "Single-piece Package",
    "model_number" => "Foam Wall Stickers",
    "clarification" => "For Wall",
    "material" => "PVC",
    "scenerios" => "Wall",
    "color" => "White, black, pink, yellow, orange and so on",
    "size" => "70X30cm, 70X15cm"
);

$product3['featured_image'] = "/assets/images/products/product-image-1327382911_799x799_74b719d7-e667-47c7-a73e-57df6190ce8b_1024x1024@2x.jpg";
$product3['images'] = array(
    "/assets/images/products/product-image-1327382916_799x799_8322f2c6-fca7-49ab-b1e5-be47ffe70424_110x110@2x.jpg",
    "/assets/images/products/product-image-1327382918_799x799_f47aa93a-4a28-4db5-8d9a-91f3a08e30fa_110x110@2x.jpg",
    "/assets/images/products/product-image-1357424080_799x799_045b51dd-5ae6-40a5-8e5c-30ef6c6f8aed_110x110@2x.jpg"
);


$product4 = array();
$product4['id'] = 4;
$product4['title'] = "Betta Castle Kit";
$product4['price'] = "$38.94";
$product4['sale_price'] = "$12.98";
$product4['meta'] = array(
    "theme" => "Pattern",
    "specifications" => "Dinosaur Bike",
    "style" => "Solid",
    "scenerios" => "Wall",
    "brand_name" => "mondecor",
    "material" => "Plastic",
    "pattern" => "Plane Wall Sticker",
    "size" => "0.6 x 3M / 5M / 10M",
);

$product4['featured_image'] = "/assets/images/products/dinoracer_77edb85a-50fb-401c-beba-388569864915_1024x1024@2x.png";
$product4['images'] = array(
    "/assets/images/products/71j5-V6RL4L._AC_SL1500_5601ef47-4a7e-4f41-9b78-950ad3f65647_110x110@2x.jpg",
    "/assets/images/products/maxresdefault_10_fdc3461c-d1a2-4e38-a9ee-8566d0970882_110x110@2x.jpg",
    "/assets/images/products/dinoracer_77edb85a-50fb-401c-beba-388569864915_1024x1024@2x.png"
);


$product5 = array();
$product5['id'] = 5;
$product5['title'] = "Dual Electric Rider";
$product5['price'] = "$20.60";
$product5['sale_price'] = "$23.54";
$product5['meta'] = array(
    "material" => "PVC",
    "theme" => "Plant",
    "scenerios" => "Wall",
    "pattern" => "Plane Wall Sticker",
    "brancolord_name" => "multi",
    "received_size" => "60*90cm*2",
    "finished_size" => "187*128cm"
);

$product5['featured_image'] = "/assets/images/products/dbt_540x.jpg";

$product5['images'] = array(
    "/assets/images/products/dbt3_110x110@2x.jpg",
    "/assets/images/products/dbt3_110x110@2x.jpg",
    "/assets/images/products/dbt2_110x110@2x.jpg"
);


$product6 = array();
$product6['id'] = 6;
$product6['title'] = "Electric Jet Body Surfer";
$product6['price'] = "$13.41";
$product6['sale_price'] = "$81.24";
$product6['meta'] = array(
    "pattern_type" => "Solid",
    "use" => "Decorative,Seat,Car,Chair",
    "shape" => "Square",
    "technics" => "Knitted",
    "material" => "100% Polyester",
    "style" => "mordern",
    "pattern" => "plush"
);

$product6['featured_image'] = "/assets/images/products/3_1024x1024_2x_7250fdad-ad0e-44ef-98a0-9b5db508cc56_540x.jpg";
$product6['images'] = array(
    "/assets/images/products/5_1024x1024_2x_dcb006cd-6160-44c0-8f6c-ff96fcf4a3c1_110x110@2x.jpg",
    "/assets/images/products/gren_1024x1024_2x_3d61f733-33fb-48f3-bd3c-68972839ea55_110x110@2x.jpg",
    "/assets/images/products/orange_1024x1024_2x_534b3310-2d2d-44c7-a0f6-adc6347f54d2_110x110@2x.jpg",
    "/assets/images/products/orange_1024x1024_2x_0121ed9f-2523-4c9f-bff4-3692ddca7267_110x110@2x.jpg"
);


$product7 = array();
$product7['id'] = 7;
$product7['title'] = "Electric Three-Wheeled Scooty";
$product7['price'] = "$48.36";
$product7['sale_price'] = "$64.12";
$product7['meta'] = array(
    "style" => "Europe",
    "theme" => "Love",
    "material" => "Crystal",
    "light_color" => "Various Colors Changing",
    "approximate_size" => "4.5*3*1.2cm",
    "approximate_weight" => "32g"
);

$product7['featured_image'] = "/assets/images/products/3whl_1024x1024@2x.jpg";
$product7['images'] = array();


$product8 = array();
$product8['id'] = 8;
$product8['title'] = "Electric Unicycle";
$product8['price'] = "$33.75";
$product8['sale_price'] = "$44.25";
$product8['meta'] = array(
    "material" => "Glass",
    "style" => "Pastoral",
    "theme" => "Landscape"
);

$product8['featured_image'] = "/assets/images/products/product-image-978950076_110x110@2x.jpg";
$product8['images'] = array(
    "/assets/images/products/product-image-978950073_110x110@2x.jpg",
    "/assets/images/products/product-image-1451347833_110x110@2x.jpg"
);


$product9 = array();
$product9['id'] = 9;
$product9['title'] = "Electric Urban Scooter";
$product9['price'] = "$17.94";
$product9['sale_price'] = "$29.98";
$product9['meta'] = array(
    "specification" => "Single-piece Package",
    "style" => "Creative",
    "pattern" => "Plane Wall Sticker",
    "scenerios" => "Wall",
    "material" => "vinyl"
);

$product9['featured_image'] = "/assets/images/products/8a740023-861c-40a7-8f26-b213767271d1_8b95f342-41d1-4ec8-a6d9-5c9e81b8755b_1024x1024@2x.jpg";

$product9['images'] = array();


$product10 = array();
$product10['id'] = 10;
$product10['title'] = "Grriggles Satellites Rubber Dog Toy - Green";
$product10['price'] = "$6.38";
$product10['sale_price'] = "$5.48";
$product10['meta'] = array(
    "style" => "Modern",
    "classification" => "For Wall",
    "pattern" => "Plane Wall Sticker",
    "specifications" => "Single-piece Package",
    "theme" => "Animal",
    "scenerios" => "Wall",
    "material" => "VINYL",
    "suitable_use" => "home dacal/bathroom decor/wedding decoration/party decor",
    "suitable_place" => "bathroom",
    "place_of_origin" => "China",
    "quality" => "waterproof sunscreen non-toxic environment protected"
);

$product10['featured_image'] = "/assets/images/products/daa4afa0-89e8-4f21-82ec-24cae6a0ef6c_2000x_6cdd0abc-bde9-469c-baed-e5ec1674852d_540x.jpg";
$product10['images'] = array(
    "/assets/images/products/walkingtreadmil2_2000x_8286419c-6e07-4be8-b1a6-e3fb958bda01_110x110@2x.png",
    "/assets/images/products/3b15c9ed-a575-4122-b906-c45020a10983_2000x_86de8c6f-7945-48dd-8b10-f94d9c35fe16_110x110@2x.png"
);

/**
 * Home page ends
 */

array_push($products, $product1);
array_push($products, $product2);
array_push($products, $product3);
array_push($products, $product4);
array_push($products, $product5);
array_push($products, $product6);
array_push($products, $product7);
array_push($products, $product8);
array_push($products, $product9);
array_push($products, $product10);


function find($id) {
    foreach ($GLOBALS['products'] as $key => $val) {
        if ($val['id'] === $id) {
            return json_encode($GLOBALS['products'][$key]);
        }
    }
    return null;
}

function getAllProducts() {
    return json_encode($GLOBALS['products']);
}

function getTopProducts($num) {
    $products = array_slice($GLOBALS['products'], 0, $num);
    return json_encode($products);
}

function searchProducts($query) {
    $products = array();
    
    foreach($GLOBALS['products'] as $product) {
        // if ($product['title'] == $query) {
        //     array_push($products, $product);
        // }
        
        $search = array_search($query, $product['meta'], true);
        if (!empty($search)) {
            array_push($products, $GLOBALS['products'][$search]);
        }
    }

    return json_encode($products);
}
?>